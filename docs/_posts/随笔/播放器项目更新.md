---
title: 2020-10-13
autoGroup-3: 十月
sidebar: auto
date: 2021-01-13 18:02:46
permalink: /pages/964079/
categories: 
  - 随笔
tags: 
  - 
---
# 音乐播放器
时隔半年多,我最开始自学前端时写的vue音乐播放器居然还有人在使用,所以稍微维护了一下

## 修改老旧过期接口
由于网易云音乐api后台接口更新,导致项目里有些接口不能使用,排行功能直接报废,所以替换了新的接口,并且更换了对应的逻辑

## 搜索功能完善
最开始的搜索功能只有一个界面展示效果,没有实际用处,现在新增了搜索功能,输入后防抖,1秒后自动搜索,热门搜索展示也可以点击进去详情了,搜索结果可以点击进入到歌曲详情界面
**功能点** 
- 使用了keyup事件,配合vue的enter修饰符,在用户回车时进行搜索
- 使用了watch侦听,用户输入后,双向绑定的关键字发送变化时进行延迟搜索

## 增加播放小组件
原来歌曲的播放是在歌曲详情页通过一个audio来进行播放的,返回页面或切换页面后歌曲就停止了,这次新增了播放小组件,把audio放入播放组件中,组件在根元素下注册,当点击歌曲详情页播放时,激活播放小组件,播放音乐,并且同步,切换页面后,歌曲不会停止,实现跨页面通讯
**功能点**
- 使用了$parent,$children实例属性,来进行跨组件通讯
- 使用了eventBus,来跨组件通讯
- 使用了vuex,进行跨组件通讯
- 使用了$refs属性来动态绑定audio的scr属性
